<!DOCTYPE html>
<html lang=pl ng-app="msgsubmit">

<head>
    <meta charset="utf-8">
    <title>ChatSPA</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="msgsubmit.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyD1icZKTIdK5WYmqCneza7uuuxCWtnSiP0",
            authDomain: "chatspa-fbf2b.firebaseapp.com",
            databaseURL: "https://chatspa-fbf2b.firebaseio.com",
            projectId: "chatspa-fbf2b",
            storageBucket: "chatspa-fbf2b.appspot.com",
            messagingSenderId: "402031867380"
        };
        firebase.initializeApp(config);
    </script>
    <link rel="stylesheet" type="text/css" href="style.css">
	<script>
		function blockUINick() {
			var nick_prompt = prompt("Enter your nickname before using chat. :)");
			
			var selectedDueDateField = document.getElementById("nickname_field");
			var element = angular.element(selectedDueDateField);
			element.val(nick_prompt);
			element.triggerHandler('input');
        }

	</script>
</head>
<body onload="blockUINick()">
    <div id="whole_page" ng-controller="chatcore">
	
        <div class="chatbox" >
			
			<div id="welcome_box">
				<span id="weclome_msg">Chatujesz jako: </span>
					<input id="nickname_field" type="text" ng-model="core.nick" readonly/>
			</div>
			
			<div id="rooms_panel">
			
			
			</div>
			
			<div id="chat_panel">
				<div id="boxchat" class="chat_messages" ng-init="chatsync()" >
				</div>
				<div>
					<label>
						<textarea id="area" rows="3" cols="70" ng-keypress="send_on_enter($event)" ng-model="core.msg" placeholder="Napisz wiadomość.." ></textarea>
					</label>
					<input id="send" type="button"  ng-click="send()" value="Wyślij" />
					<input id="clear" type="button" ng-click="clear()" value="Czyść" />
					
				</div>
			</div>
        </div>
    </div>
</body>

</html>